parameters:

services:
  #Twig
  twig_loader:
    class: Twig\Loader\FilesystemLoader
    arguments: [ '%project_root%/src/vue/' ]
  twig:
    class: Twig\Environment
    arguments:
      $loader: '@twig_loader'
      $options:
        autoescape: 'html'
        strict_variables: true


  configuration_bdd_my_sql:
    class: App\TrelloTrolle\Configuration\ConfigurationBaseDeDonnees

  connexion_base_de_donnees:
    class: App\TrelloTrolle\Modele\Repository\ConnexionBaseDeDonnees
    arguments: ['@configuration_bdd_my_sql']

  #Repositories
  #TODO : ajouter les argument quand on aura injecter la base de donn√©es comme dans le td

  carte_repository:
    class: App\TrelloTrolle\Repository\CarteRepository

  colonne_repository:
    class: App\TrelloTrolle\Repository\ColonneRepository

  tableau_repository:
    class: App\TrelloTrolle\Repository\TableauRepository

  utilisateur_repository:
    class: App\TrelloTrolle\Repository\UtilisateurRepository

  #Lib
  mot_de_passe:
    class: App\TrelloTrolle\Lib\MotDePasse

  #Sercices
  utilisateur_service:
    class: App\TrelloTrolle\Service\UtilisateurService
    arguments: ['@utilisateur_repository', '@tableau_repository', '@mot_de_passe' ]

  colonne_service:
    class: App\TrelloTrolle\Service\ColonneService
    arguments: [ '@colonne_repository', '@tableau_repository']

  tableau_service:
    class: App\TrelloTrolle\Service\TableauService
    arguments: [ '@tableau_repository', '@utilisateur_repository' ,'@carte_repository', '@colonne_repository', '@mot_de_passe' ]

  carte_service:
    class: App\TrelloTrolle\Service\TableauService
    arguments: [ '@carte_repository', '@colonne_repository', '@tableau_repository', '@colonne_service' ,  '@tableau_service' ]



  #Services
  request_stack:
    class: Symfony\Component\HttpFoundation\RequestStack

  url_generator:
    class: Symfony\Component\Routing\Generator\UrlGenerator
    arguments:
      routes: '@routes'
      context: '@request_context'

  url_helper:
    class: Symfony\Component\HttpFoundation\UrlHelper
    arguments:
      requestStack: '@request_stack'
      requestContext: '@request_context'

  #Controleurs
  controleur_generique:
    class: App\TrelloTrolle\Controleur\ControleurGenerique
    arguments:
      container: '@container'

  controleur_base:
    class: App\TrelloTrolle\Controleur\ControleurBase
    arguments:
      container: '@container'

  controleur_carte:
    class: App\TrelloTrolle\Controleur\ControleurCarte
    arguments:
      container: '@container'

  controleur_colonne:
    class: App\TrelloTrolle\Controleur\ControleurColonne
    arguments:
      container: '@container'

  controleur_tableau:
    class: App\TrelloTrolle\Controleur\ControleurTableau
    arguments:
      container: '@container'

  controleur_utilisateur:
    class: App\TrelloTrolle\Controleur\ControleurUtilisateur
    arguments: ['@container', '@utilisateur_service', '@connexion_utilisateur_session', '@connexion_utilisateur_jwt']

  #Connexion utilisateur
  connexion_utilisateur_session:
    class: App\TrelloTrolle\Lib\ConnexionUtilisateurSession

  connexion_utilisateur_jwt:
    class: App\TrelloTrolle\Lib\ConnexionUtilisateurJWT